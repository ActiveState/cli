# Go
# Build your Go project.
# Add steps that test, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/go


trigger:
  - master

resources:
  containers:
  - container: linux
    image: activestate/cli-build-ci-linux:latest

jobs:

  - job: build_linux
    pool:
      vmImage: ubuntu-16.04
    container: linux
    variables:
      - group: Secrets
      - name: SHELL
        value: /bin/bash
      - name: CI
        value: azure
    steps:
      - template: steps.yml

  - job: build_macos
    pool:
      vmImage: macos-10.13
    variables:
      - group: Secrets
      - name: SHELL
        value: /bin/bash
      - name: CI
        value: azure
      - name: GOFLAGS
        value: -mod=vendor
    steps:
      - script: |
          echo "HEY AZURE, DO YOUR EFFING JOB"




          echo "YOU WANT BLANK SPACE OR SOMETHING?"




          go get github.com/gobuffalo/packr/packr
          go get github.com/jstemmer/go-junit-report
        displayName: Prepare Environment
      - template: steps.yml